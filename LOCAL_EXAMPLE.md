Local example
===

## required

- docker
- docker-compose
- curl (or other http request tool)

## servers

- ssh-server (bastion)
- nginx (web-server) *this server cannot access from local.

ssh server base image is https://github.com/linuxserver/docker-openssh-server
test key generated by https://github.com/linuxserver/docker-openssh-server#key-generation

## how to run example

build ssh server image
```
docker build -f local-env/Dockerfile.ssh-server -t mogura-bastion:0.1.0 .
```

launch other terminal and launch servers with docker-compose
```
docker-compose -f local-env/docker-compose.yml up

# launch ssh server...
```

build mogura (out put binary to bin/mogura)
```
make mac-build
```

launch mogura with local test configure
```
bin/mogura -config config.yml.sample

# mogura log...
```

launch other terminal and http request to web-server via mogura
```
curl http://localhost:8080/

# return nginx default html
```